<head>
    <title>KSWAK</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.8/d3.min.js"></script>
    <script src="packages/slowaes/js/aes_fast.js"></script>
    <script src="packages/slowaes/js/cryptoHelpers.js"></script>
    <script src='server/encrypt.js'></script>

</head>

<body>
    {{> nav}}
</body>


<template name='home'>
    <title>KSWAK | HOME</title>
    <div id="container_home">
        <a href="{{ pathFor 'teacher_new' }}">new question</a><br/>
        <a href="{{ pathFor 'teacher_home' }}">teacher home page</a><br/>
        <a href="{{ pathFor 'teacher_summary' }}">teacher summary page</a><br/>
        <a href="{{ pathFor 'question_view' }}">student home | launched question</a><br/>
    </div>
</template>

<template name='nav'>
    <div class="navbar navbar-inverse navbar-fixed-top">
       <div class="navbar-inner">
         <div class="container">
           <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
           </button>
           <a class="brand" href="/">kswak</a>
           <div class="nav-collapse collapse">
             <ul class="nav">
               <li><a href="{{ pathFor 'teacher_new' }}">new question</a></li>
               <li><a href="{{ pathFor 'teacher_home' }}">teacher home page</a></li>
               <li><a href="{{ pathFor 'teacher_summary' }}">teacher summary page</a></li>
               <li><a href="{{ pathFor 'question_view' }}">student home | launched question</a></li>
             </ul>
             <ul class="nav pull-right">
                 <li class="navbar-text">
                     {{> loginButtons}}
                 </li>
             </ul>
           </div><!--/.nav-collapse -->
         </div>
       </div>
    </div>
</template>

<template name="new">
    <title>KSWAK Teacher | Add New Question</title>
    <div id="container_new">
    <h1>Create a question</h1>

    <h4>Quick Launch:</h4>
        <button id='tf'>True/False</button>
        <button id='mc2'>MC (2 choices)</button>
        <button id='mc3'>MC (3 choices)</button>
        <button id='mc4'>MC (4 choices)</button>
        <button id='mc5'>MC (5 choices)</button>
        <button id='mc6'>MC (6 choices)</button>

    <br>
    <h4>Custom:</h4>
    <div class='form_container'>
        <form id='question_form'>
            Question: <input type="text" name="title"> <br>
            Choices: <br>
            <table id='input_choices'>
                <tr>
                    <td align='right'>A </td>
                    <td align='left'><input type="text" name="choice1"></td>
                    <td align='left'><input type="radio" value=A name="correct"></td>
                </tr>
                <tr>
                    <td align='right'>B </td>
                    <td align='left'><input type="text" name="choice2"></td>
                    <td align='left'><input type="radio" value=B name="correct"></td>
                </tr>
                <tr>
                    <td align='right'>C </td>
                    <td align='left'><input type="text" name="choice3"></td>
                    <td align='left'><input type="radio" value=C name="correct"></td>
                </tr>
                <tr>
                    <td align='right'>D </td>
                    <td align='left'><input type="text" name="choice4"></td>
                    <td align='left'><input type="radio" value=D name="correct"></td>
                </tr>
            </table>
            <input type="submit" value="Publish" id='publish_button' style='margin-left:60px' class="btn btn-primary"/>
            <div id="publishFeedback"></div>
        </form>
    </div>
    </div>
</template>

<template name='question_view'>
    <title>KSWAK | {{title}}</title>
    <h1>Question view</h1>
    <div id="container_question_view">
    <h1>{{title}}</h1>
    <form id="student_question">
        <table>
        {{#each options}}
        <tr>
        <input type="radio" name="choice" value={{letter}} id="choice{{letter}}">
            <label for="choice{{letter}}">{{choice}}</label>
        </tr>
        {{/each}}
        </table>
        <input type="submit" name="submit" value="Submit">
        <div id="submitFeedback"></div>
    </form>
    </div>
</template>


<template name='teacher_question_view'>
    <div id="container_teacher_question_view">
		<span style='width:300px; display: inline-block'><i style='color:#ef6d86'>{{status_comment}}</i></span>
		<button style="margin-left:150px" id='edit' class="btn btn-primary">Edit</button><button id='change_mode' style="margin-left:10px" class="btn btn-primary">{{status_control}}</button>
    <div class='form_container'>
        Question: {{title}}<br>
        Choices: <br>
        <table id='input_choices'>
            {{#each options}}
                <tr>
                    <td align='right'>{{option}} |&nbsp;</td>
                    <td align='left'>{{choice}}</td>
                    <td class='blank'></td>
                    <td class='statistics' align='right'>{{voters}}  ({{percent}}% of responders)</td>
                </tr>
            {{/each}}
        </table><br>
        Correct: {{correct}}<br>
        Total number of responders: {{total}}

        <br><br>
        <div class='questionCopy'></div>
        <svg class='chart' id='bar'></svg>
        <div class='chart' id='pie'></div>

    </div>
    </div>
</template>


<template name='projector_view'>
    <div class="svg-wrapper">
        {{#constant}}

        {{/constant}}

    </div>
</template>

<template name='teacher_summary'>
    <div id="container_home">
    <h1>Teacher Summary</h1><br/>
       <table class="gridTable" border="1" rules="rows">
    <tr>
        <th>Questions</th>
        <th></th>
        <th></th>
    </tr>
    {{#each questions}}
    <tr class="gridRow {{status}}">
    <td class="question" style="width:500px" border="1"><a href="{{ pathFor 'teacher_question_view' _id =this._id}}">{{title}}</a></td>
    <td>{{status}}&nbsp;</td>
    <td><button style='margin:4px' class="delete btn btn-danger">X</button></td>
    </tr>
    {{/each}}
    </table><br/>
    <button id="inactivateAll" class="btn btn-primary">inactivate all</button>

<!-- Bootstrap delete all warning -->
<button class="btn btn-primary" data-toggle="modal" data-target="#myModal">
  Delete all
</button>
</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="margin-top:-100px">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">Warning!</h4>
      </div>
      <div class="modal-body">
        Are you sure you to want to DELETE ALL questions, except launched one?
      </div>
      <div class="modal-footer">
        <button type="button"  id="deleteAll" class="btn btn-primary" data-dismiss="modal">Yes</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>

      </div>
    </div>
  </div>
</div>
</template>

<template name='login'>
    <div class='container'>LOGGING IN</div>
</template>

<template name='teacher_edit'>
	<div class='form_container'>
        <form id='question_form'>
            Question: <input type="text" name="title" value={{title}}> <br>
            Choices: <br>
            <table id='input_choices'>
				{{#each options}}
                <tr>
                    <td align='right'>{{letter}} </td>
                    <td align='left'><input type="text" name={{choice}} value={{option}}></td>
                    <td align='left'><input type="radio" value={{letter}} name="correct"></td>
                </tr>
				{{/each}}
            </table>
			 <div id="publishFeedback"></div>
        </form>
		<button id="cancel" class="btn btn-primary">Cancel</button>
		<button id="save" class="btn btn-primary">Save changes</button>
		<button id="save_launch" class="btn btn-primary">Save and launch</button>
    </div>
</template>
